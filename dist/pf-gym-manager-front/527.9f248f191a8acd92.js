"use strict";(self.webpackChunkPF_GymManagerFront=self.webpackChunkPF_GymManagerFront||[]).push([[527],{6527:(q,d,o)=>{o.r(d),o.d(d,{ClientsModule:()=>L});var C=o(6814),p=o(9316),u=o(1476),c=o(3566),s=o(9538),g=o(3927),T=o(3519),Z=o.n(T),t=o(5879),y=o(3712),_=o(5663),v=o(8941),x=o(9347),N=o(6912),f=o(2296),D=o(617),b=o(2032),h=o(4170);function Y(e,i){1&e&&(t.TgZ(0,"th",23),t._uU(1," Id "),t.qZA())}function A(e,i){if(1&e&&(t.TgZ(0,"td",24),t._uU(1),t.qZA()),2&e){const n=i.$implicit;t.xp6(1),t.hij(" ",n.id," ")}}function w(e,i){1&e&&(t.TgZ(0,"th",23),t._uU(1," Name "),t.qZA())}function S(e,i){if(1&e){const n=t.EpF();t.TgZ(0,"td",25),t.NdJ("click",function(){const m=t.CHM(n).$implicit,r=t.oxw();return t.KtG(r.openDialog(m))}),t._uU(1),t.qZA()}if(2&e){const n=i.$implicit;t.xp6(1),t.hij(" ",n.name," ")}}function U(e,i){1&e&&(t.TgZ(0,"th",23),t._uU(1," Last Name "),t.qZA())}function M(e,i){if(1&e&&(t.TgZ(0,"td",24),t._uU(1),t.qZA()),2&e){const n=i.$implicit;t.xp6(1),t.hij(" ",n.lastName," ")}}function B(e,i){1&e&&(t.TgZ(0,"th",23),t._uU(1," Email "),t.qZA())}function E(e,i){if(1&e&&(t.TgZ(0,"td",24),t._uU(1),t.qZA()),2&e){const n=i.$implicit;t.xp6(1),t.hij(" ",n.email," ")}}function Q(e,i){1&e&&(t.TgZ(0,"th",23),t._uU(1," Membership End "),t.qZA())}function R(e,i){if(1&e&&(t.TgZ(0,"td",24),t._uU(1),t.qZA()),2&e){const n=i.$implicit;t.xp6(1),t.hij(" ",n.membershipEnd," ")}}function j(e,i){1&e&&(t.TgZ(0,"th",23),t._uU(1," City "),t.qZA())}function F(e,i){if(1&e&&(t.TgZ(0,"td",24),t._uU(1),t.qZA()),2&e){const n=i.$implicit;t.xp6(1),t.hij(" ",n.cityId," ")}}function J(e,i){1&e&&(t.TgZ(0,"th",23),t._uU(1," membershipType "),t.qZA())}function G(e,i){if(1&e&&(t.TgZ(0,"td",24),t._uU(1),t.qZA()),2&e){const n=i.$implicit;t.xp6(1),t.hij(" ",n.membershipTypeId," ")}}function H(e,i){1&e&&t._UZ(0,"th",26)}function I(e,i){if(1&e){const n=t.EpF();t.TgZ(0,"td",25),t.NdJ("click",function(){const m=t.CHM(n).$implicit,r=t.oxw();return t.KtG(r.deleteRow(m.id))}),t.TgZ(1,"button",27)(2,"mat-icon"),t._uU(3,"delete_outline"),t.qZA()()()}}function $(e,i){1&e&&t._UZ(0,"tr",28)}function z(e,i){1&e&&t._UZ(0,"tr",29)}function k(e,i){if(1&e&&(t.TgZ(0,"tr",30)(1,"td",31),t._uU(2),t.qZA()()),2&e){t.oxw();const n=t.MAs(7);t.xp6(2),t.hij('No data matching the filter "',n.value,'"')}}const K=function(){return[5,10,25,100]},O=[{path:"",component:(()=>{class e{constructor(n,a,l,m,r){this.membersService=n,this.cityService=a,this.membershipTypesService=l,this.dialog=m,this.alert=r,this.displayedColumns=["id","name","lastName","email","membershipEnd","cityId","membershipTypeId","delete"],this.newUser=!1}ngOnInit(){this.loadData()}loadData(){this.usersSubscription=this.membersService.getMembers().subscribe(n=>{this.dataSource=new s.by(n.model),this.dataSource.paginator=this.paginator,this.dataSource.sort=this.sort,this.usersData=n.model})}applyFilter(n){this.dataSource.filter=n.target.value.trim().toLowerCase(),this.dataSource.paginator&&this.dataSource.paginator.firstPage()}openDialog(n){this.dialog.open(g.e,{data:{rowEntityEditor:n,type:"Members"},disableClose:!0}).afterClosed().subscribe(l=>{l.refreshData&&(this.usersSubscription.unsubscribe(),this.loadData())})}deleteRow(n){Z().fire({title:"Are you sure? You won't be able to revert this",icon:"warning",showCancelButton:!0,confirmButtonColor:"#d6dd00",cancelButtonColor:"#ff5050",confirmButtonText:"Yes"}).then(a=>{a.isConfirmed&&this.membersService.deleteMember(n).subscribe(l=>{l.hasError||(this.alert.successAlet("Member Delete"),this.usersSubscription.unsubscribe(),this.loadData())})})}static#t=this.\u0275fac=function(a){return new(a||e)(t.Y36(y.Z),t.Y36(_.Z),t.Y36(v.S),t.Y36(x.uw),t.Y36(N.W))};static#e=this.\u0275cmp=t.Xpm({type:e,selectors:[["app-clients"]],viewQuery:function(a,l){if(1&a&&(t.Gf(u.NW,5),t.Gf(c.YE,5)),2&a){let m;t.iGM(m=t.CRH())&&(l.paginator=m.first),t.iGM(m=t.CRH())&&(l.sort=m.first)}},decls:40,vars:5,consts:[[1,"container"],[1,"h1"],["matInput","","placeholder","Ex. Mia",3,"keyup"],["input",""],["mat-stroked-button","","color","primary",1,"mx-4",3,"click"],[1,"mat-elevation-z8"],["mat-table","","matSort","",3,"dataSource"],["matColumnDef","id"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","name"],["mat-cell","",3,"click",4,"matCellDef"],["matColumnDef","lastName"],["matColumnDef","email"],["matColumnDef","membershipEnd"],["matColumnDef","cityId"],["matColumnDef","membershipTypeId"],["matColumnDef","delete"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["class","mat-row",4,"matNoDataRow"],["aria-label","Select page of users",3,"pageSizeOptions"],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],["mat-cell","",3,"click"],["mat-header-cell",""],["mat-icon-button","","color","accent"],["mat-header-row",""],["mat-row",""],[1,"mat-row"],["colspan","4",1,"mat-cell"]],template:function(a,l){1&a&&(t.TgZ(0,"div",0)(1,"p",1),t._uU(2,"Members"),t.qZA(),t.TgZ(3,"mat-form-field")(4,"mat-label"),t._uU(5,"Search"),t.qZA(),t.TgZ(6,"input",2,3),t.NdJ("keyup",function(r){return l.applyFilter(r)}),t.qZA()(),t.TgZ(8,"button",4),t.NdJ("click",function(){return l.openDialog()}),t._uU(9,"New Member"),t.qZA(),t.TgZ(10,"div",5)(11,"table",6),t.ynx(12,7),t.YNc(13,Y,2,0,"th",8),t.YNc(14,A,2,1,"td",9),t.BQk(),t.ynx(15,10),t.YNc(16,w,2,0,"th",8),t.YNc(17,S,2,1,"td",11),t.BQk(),t.ynx(18,12),t.YNc(19,U,2,0,"th",8),t.YNc(20,M,2,1,"td",9),t.BQk(),t.ynx(21,13),t.YNc(22,B,2,0,"th",8),t.YNc(23,E,2,1,"td",9),t.BQk(),t.ynx(24,14),t.YNc(25,Q,2,0,"th",8),t.YNc(26,R,2,1,"td",9),t.BQk(),t.ynx(27,15),t.YNc(28,j,2,0,"th",8),t.YNc(29,F,2,1,"td",9),t.BQk(),t.ynx(30,16),t.YNc(31,J,2,0,"th",8),t.YNc(32,G,2,1,"td",9),t.BQk(),t.ynx(33,17),t.YNc(34,H,1,0,"th",18),t.YNc(35,I,4,0,"td",11),t.BQk(),t.YNc(36,$,1,0,"tr",19),t.YNc(37,z,1,0,"tr",20),t.YNc(38,k,3,1,"tr",21),t.qZA(),t._UZ(39,"mat-paginator",22),t.qZA()()),2&a&&(t.xp6(11),t.Q6J("dataSource",l.dataSource),t.xp6(25),t.Q6J("matHeaderRowDef",l.displayedColumns),t.xp6(1),t.Q6J("matRowDefColumns",l.displayedColumns),t.xp6(2),t.Q6J("pageSizeOptions",t.DdM(4,K)))},dependencies:[f.lW,f.RK,D.Hw,b.Nt,h.KE,h.hX,u.NW,c.YE,c.nU,s.BZ,s.fO,s.as,s.w1,s.Dz,s.nj,s.ge,s.ev,s.XQ,s.Gk,s.Ee]})}return e})()}];let W=(()=>{class e{static#t=this.\u0275fac=function(a){return new(a||e)};static#e=this.\u0275mod=t.oAB({type:e});static#n=this.\u0275inj=t.cJS({imports:[p.Bz.forChild(O),p.Bz]})}return e})();var P=o(8718),X=o(4354);let L=(()=>{class e{static#t=this.\u0275fac=function(a){return new(a||e)};static#e=this.\u0275mod=t.oAB({type:e});static#n=this.\u0275inj=t.cJS({imports:[C.ez,W,X.v,P.a]})}return e})()}}]);