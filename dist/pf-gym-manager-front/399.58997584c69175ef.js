"use strict";(self.webpackChunkPF_GymManagerFront=self.webpackChunkPF_GymManagerFront||[]).push([[399],{3712:(f,h,s)=>{s.d(h,{Z:()=>u});var i=s(5516),p=s(6306),e=s(5879),b=s(9862),c=s(342);let u=(()=>{class o{constructor(t,a){this.http=t,this.errorHandler=a}getMembers(){return this.http.get(`${i.N.baseUrl}api/Members`,i.N.httpOptions).pipe((0,p.K)(this.errorHandler.errorHandler))}getMemberById(t){return this.http.get(`${i.N.baseUrl}api/Members/${t}`,i.N.httpOptions).pipe((0,p.K)(this.errorHandler.errorHandler))}newMember(t){return this.http.post(`${i.N.baseUrl}api/Members`,t,i.N.httpOptions).pipe((0,p.K)(this.errorHandler.errorHandler))}updateMember(t,a){return this.http.put(`${i.N.baseUrl}api/Members/${a}`,t,i.N.httpOptions).pipe((0,p.K)(this.errorHandler.errorHandler))}deleteMember(t){return this.http.delete(`${i.N.baseUrl}api/Members/${t}`,i.N.httpOptions).pipe((0,p.K)(this.errorHandler.errorHandler))}static#e=this.\u0275fac=function(a){return new(a||o)(e.LFG(b.eN),e.LFG(c.q))};static#t=this.\u0275prov=e.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"})}return o})()},8941:(f,h,s)=>{s.d(h,{S:()=>u});var i=s(5516),p=s(6306),e=s(5879),b=s(9862),c=s(342);let u=(()=>{class o{constructor(t,a){this.http=t,this.errorHandler=a}getMembershipTypes(){return this.http.get(`${i.N.baseUrl}api/MembershipTypes`,i.N.httpOptions).pipe((0,p.K)(this.errorHandler.errorHandler))}getMembershipById(t){return this.http.get(`${i.N.baseUrl}api/MembershipTypes/${t}`,i.N.httpOptions).pipe((0,p.K)(this.errorHandler.errorHandler))}newMembershipType(t){return this.http.post(`${i.N.baseUrl}api/MembershipTypes`,t,i.N.httpOptions).pipe((0,p.K)(this.errorHandler.errorHandler))}updateMembershipType(t,a){return this.http.put(`${i.N.baseUrl}api/MembershipTypes/${a}`,t,i.N.httpOptions).pipe((0,p.K)(this.errorHandler.errorHandler))}deleteMembershipType(t){return this.http.delete(`${i.N.baseUrl}api/MembershipTypes/${t}`,i.N.httpOptions).pipe((0,p.K)(this.errorHandler.errorHandler))}static#e=this.\u0275fac=function(a){return new(a||o)(e.LFG(b.eN),e.LFG(c.q))};static#t=this.\u0275prov=e.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"})}return o})()},7399:(f,h,s)=>{s.r(h),s.d(h,{RenewalMembershipModule:()=>E});var i=s(6814),p=s(9316),e=s(5879),b=s(3712),c=s(8941),u=s(6912),o=s(6223),M=s(5195);const t=["membershipSelect"];function a(r,_){if(1&r&&(e.TgZ(0,"span")(1,"h2"),e._uU(2),e.qZA()()),2&r){const m=e.oxw(2);e.xp6(2),e.hij("You have ",m.daysRemaining," days remaining on your membership.")}}function g(r,_){1&r&&(e.TgZ(0,"span",33)(1,"h2"),e._uU(2,"Membership has expired."),e.qZA()())}function y(r,_){if(1&r&&(e.TgZ(0,"div",24),e._UZ(1,"br"),e.TgZ(2,"mat-card",25)(3,"mat-card-header")(4,"mat-card-title"),e._uU(5),e.qZA(),e.TgZ(6,"mat-card-subtitle"),e._uU(7),e.qZA(),e._UZ(8,"br"),e.qZA(),e.TgZ(9,"mat-card-content")(10,"p"),e._uU(11),e.qZA()()(),e.YNc(12,a,3,1,"span",26),e.YNc(13,g,3,0,"ng-template",null,27,e.W1O),e.TgZ(15,"table",28)(16,"tbody")(17,"tr",29)(18,"td"),e._uU(19,"To"),e.qZA(),e.TgZ(20,"td"),e._uU(21,"From"),e.qZA(),e._UZ(22,"td"),e.qZA(),e.TgZ(23,"tr",30)(24,"td",31),e._uU(25),e.qZA(),e.TgZ(26,"td",31),e._uU(27),e.qZA(),e.TgZ(28,"td",31)(29,"a",32),e._uU(30," Member Renewal "),e.qZA()()()()()()),2&r){const m=e.MAs(14),n=e.oxw();e.xp6(5),e.AsE("",n.member.model.name," ",n.member.model.lastName,""),e.xp6(2),e.Oqu(n.member.model.birthDay),e.xp6(4),e.hij("Email: ",n.member.model.email,""),e.xp6(1),e.Q6J("ngIf",n.daysRemaining>0)("ngIfElse",m),e.xp6(13),e.Oqu(n.member.model.registeredOn),e.xp6(2),e.Oqu(n.member.model.membershipEnd)}}function T(r,_){1&r&&(e.TgZ(0,"span",34),e._uU(1,"Member not found"),e.qZA())}function Z(r,_){if(1&r&&(e.ynx(0),e.TgZ(1,"option",35),e._uU(2),e.qZA(),e.BQk()),2&r){const m=_.$implicit;e.xp6(1),e.s9C("value",m.id),e.xp6(1),e.hij(" ",m.name,"")}}const U=[{path:"",component:(()=>{class r{constructor(m,n,l,d){this.membersService=m,this.membershipService=n,this.AletService=l,this.router=d,this.loeadSelect()}loeadSelect(){this.membershipService.getMembershipTypes().subscribe(m=>{this.memberships=m.model})}searchMember(){this.memberId&&this.membersService.getMemberById(this.memberId).subscribe(m=>{this.member=m;const n=new Date;if(this.member.model){const d=new Date(this.member.model.membershipEnd).getTime()-n.getTime();this.daysRemaining=Math.floor(d/864e5)}})}submitMembership(){this.membershipService.getMembershipById(this.membershipSelect.nativeElement.value).subscribe(n=>{const l=new Date,d=new Date(l);d.setMonth(d.getMonth()+n.model.duration);const v=l.toISOString(),I=d.toISOString();this.membersService.updateMember({name:this.member.model.name,lastName:this.member.model.lastName,birthDay:this.member.model.birthDay,email:this.member.model.email,allowNewsLetter:this.member.model.allowNewsLetter,registeredOn:v,membershipEnd:I,cityId:this.member.model.cityId,membershipTypeId:n.model.id},this.member.model.id).subscribe(R=>{R.hasError||(console.log("Update"),this.AletService.successAlet("Renewaled"),this.router.navigate(["/members/clients"]))})})}static#e=this.\u0275fac=function(n){return new(n||r)(e.Y36(b.Z),e.Y36(c.S),e.Y36(u.W),e.Y36(p.F0))};static#t=this.\u0275cmp=e.Xpm({type:r,selectors:[["app-renewal-membership"]],viewQuery:function(n,l){if(1&n&&e.Gf(t,5),2&n){let d;e.iGM(d=e.CRH())&&(l.membershipSelect=d.first)}},decls:32,vars:4,consts:[[1,"container"],[1,"h1"],[2,"color","black"],[1,"input-group","col-6"],[1,"input-group-prepend"],["id","basic-addon1",1,"input-group-text"],["type","number","min","1","step","1","placeholder","MemberId","aria-label","Username","aria-describedby","basic-addon1","id","input",1,"form-control",3,"ngModel","ngModelChange"],["type","submit",1,"btn","bg-yellow",2,"margin-left","20px",3,"click"],["class","mt-3",4,"ngIf"],["id","spanNotFount",4,"ngIf"],["id","exampleModal","tabindex","-1","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade"],["myModal",""],[1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],["id","exampleModalLabel",1,"modal-title","fs-5"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close"],[1,"modal-body"],["aria-label","Default select example",1,"form-select"],["membershipSelect",""],[4,"ngFor","ngForOf"],[1,"modal-footer"],["type","button","data-bs-dismiss","modal",1,"btn","btn-secondary"],["type","button",1,"btn","bg-yellow",3,"click"],[1,"mt-3"],[1,"example-card"],[4,"ngIf","ngIfElse"],["expired",""],[1,"table","table-borderless"],[1,"add"],[1,"content"],[1,"font-weight-bold"],["data-bs-toggle","modal","data-bs-target","#exampleModal",1,"btn","bg-yellow","float-end"],["id","spanExpired"],["id","spanNotFount"],[3,"value"]],template:function(n,l){1&n&&(e.TgZ(0,"div",0)(1,"p",1),e._uU(2,"Renewal membership"),e.qZA(),e.TgZ(3,"div")(4,"p",2),e._uU(5,"Search by ID Member"),e.qZA()(),e.TgZ(6,"div",3)(7,"div",4)(8,"span",5),e._uU(9,"@@"),e.qZA()(),e.TgZ(10,"input",6),e.NdJ("ngModelChange",function(v){return l.memberId=v}),e.qZA(),e.TgZ(11,"button",7),e.NdJ("click",function(){return l.searchMember()}),e._uU(12,"Search"),e.qZA()(),e.YNc(13,y,31,8,"div",8),e.YNc(14,T,2,0,"span",9),e.qZA(),e.TgZ(15,"div",10,11)(17,"div",12)(18,"div",13)(19,"div",14)(20,"h1",15),e._uU(21,"Choose the MembershipType"),e.qZA(),e._UZ(22,"button",16),e.qZA(),e.TgZ(23,"div",17)(24,"select",18,19),e.YNc(26,Z,3,2,"ng-container",20),e.qZA()(),e.TgZ(27,"div",21)(28,"button",22),e._uU(29,"Close"),e.qZA(),e.TgZ(30,"button",23),e.NdJ("click",function(){return l.submitMembership()}),e._uU(31,"Renewal"),e.qZA()()()()()),2&n&&(e.xp6(10),e.Q6J("ngModel",l.memberId),e.xp6(3),e.Q6J("ngIf",!!l.member&&!l.member.hasError),e.xp6(1),e.Q6J("ngIf",!!l.member&&l.member.hasError),e.xp6(12),e.Q6J("ngForOf",l.memberships))},dependencies:[i.sg,i.O5,o.YN,o.Kr,o.Fj,o.wV,o.JJ,o.qQ,o.On,M.a8,M.dn,M.dk,M.$j,M.n5]})}return r})()}];let O=(()=>{class r{static#e=this.\u0275fac=function(n){return new(n||r)};static#t=this.\u0275mod=e.oAB({type:r});static#r=this.\u0275inj=e.cJS({imports:[p.Bz.forChild(U),p.Bz]})}return r})();var A=s(4354);let E=(()=>{class r{static#e=this.\u0275fac=function(n){return new(n||r)};static#t=this.\u0275mod=e.oAB({type:r});static#r=this.\u0275inj=e.cJS({imports:[i.ez,O,o.u5,A.v]})}return r})()}}]);