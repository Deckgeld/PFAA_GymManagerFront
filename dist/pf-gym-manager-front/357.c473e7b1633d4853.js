"use strict";(self.webpackChunkPF_GymManagerFront=self.webpackChunkPF_GymManagerFront||[]).push([[357],{3712:(v,b,a)=>{a.d(b,{Z:()=>m});var s=a(5516),c=a(6306),e=a(5879),A=a(9862),l=a(342);let m=(()=>{class p{constructor(o,i){this.http=o,this.errorHandler=i}getMembers(){return this.http.get(`${s.N.baseUrl}api/Members`,s.N.httpOptions).pipe((0,c.K)(this.errorHandler.errorHandler))}getMemberById(o){return this.http.get(`${s.N.baseUrl}api/Members/${o}`,s.N.httpOptions).pipe((0,c.K)(this.errorHandler.errorHandler))}newMember(o){return this.http.post(`${s.N.baseUrl}api/Members`,o,s.N.httpOptions).pipe((0,c.K)(this.errorHandler.errorHandler))}updateMember(o,i){return this.http.put(`${s.N.baseUrl}api/Members/${i}`,o,s.N.httpOptions).pipe((0,c.K)(this.errorHandler.errorHandler))}deleteMember(o){return this.http.delete(`${s.N.baseUrl}api/Members/${o}`,s.N.httpOptions).pipe((0,c.K)(this.errorHandler.errorHandler))}static#e=this.\u0275fac=function(i){return new(i||p)(e.LFG(A.eN),e.LFG(l.q))};static#t=this.\u0275prov=e.Yz7({token:p,factory:p.\u0275fac,providedIn:"root"})}return p})()},1357:(v,b,a)=>{a.r(b),a.d(b,{AttendanceModule:()=>T});var s=a(6814),c=a(9316),e=a(5879),A=a(3712),l=a(5516),m=a(6306),p=a(9862),f=a(342);let o=(()=>{class r{constructor(t,n){this.http=t,this.errorHandler=n}getAttendances(){return this.http.get(`${l.N.baseUrl}api/Attendance`,l.N.httpOptions).pipe((0,m.K)(this.errorHandler.errorHandler))}getAttendancesToDay(){return this.http.get(`${l.N.baseUrl}api/Attendance/today`,l.N.httpOptions).pipe((0,m.K)(this.errorHandler.errorHandler))}newAttendance(t){return this.http.post(`${l.N.baseUrl}api/Attendance/${t}`,l.N.httpOptions).pipe((0,m.K)(this.errorHandler.errorHandler))}updateAttendance(t){return this.http.put(`${l.N.baseUrl}api/Attendance/${t}`,l.N.httpOptions).pipe((0,m.K)(this.errorHandler.errorHandler))}deleteAttendance(t){return this.http.delete(`${l.N.baseUrl}api/Attendance/${t}`,l.N.httpOptions).pipe((0,m.K)(this.errorHandler.errorHandler))}static#e=this.\u0275fac=function(n){return new(n||r)(e.LFG(p.eN),e.LFG(f.q))};static#t=this.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})();var i=a(6912),h=a(5195),u=a(6223);function M(r,E){if(1&r){const t=e.EpF();e.TgZ(0,"div",10),e._UZ(1,"br"),e.TgZ(2,"mat-card",11)(3,"mat-card-header")(4,"mat-card-title"),e._uU(5),e.qZA(),e.TgZ(6,"mat-card-subtitle"),e._uU(7),e.qZA(),e._UZ(8,"br"),e.qZA(),e.TgZ(9,"mat-card-content")(10,"p"),e._uU(11),e.qZA()()(),e.TgZ(12,"button",12),e.NdJ("click",function(){e.CHM(t);const d=e.oxw();return e.KtG(d.confirmAttendace(d.member.model.id))}),e._uU(13,"Confirm Attendance "),e.qZA()()}if(2&r){const t=e.oxw();e.xp6(5),e.AsE("",t.member.model.name," ",t.member.model.lastName,""),e.xp6(2),e.Oqu(t.member.model.birthDay),e.xp6(4),e.hij("Email: ",t.member.model.email,"")}}function N(r,E){1&r&&(e.TgZ(0,"span",13),e._uU(1,"Member not found"),e.qZA())}const U=[{path:"",component:(()=>{class r{constructor(t,n,d){this.membersService=t,this.attendanceService=n,this.alertService=d}searchMember(){this.memberId&&this.membersService.getMemberById(this.memberId).subscribe(t=>{this.member=t;const n=new Date;if(this.member.model){const g=new Date(this.member.model.membershipEnd).getTime()-n.getTime();this.daysRemaining=Math.floor(g/864e5)}})}confirmAttendace(t){this.attendanceService.newAttendance(t).subscribe(n=>{n.hasError||this.alertService.successAlet("Confirmed")})}static#e=this.\u0275fac=function(n){return new(n||r)(e.Y36(A.Z),e.Y36(o),e.Y36(i.W))};static#t=this.\u0275cmp=e.Xpm({type:r,selectors:[["app-attendance"]],decls:15,vars:3,consts:[[1,"container"],[1,"h1"],[2,"color","black"],[1,"input-group","col-6"],[1,"input-group-prepend"],["id","basic-addon1",1,"input-group-text"],["type","number","min","1","step","1","placeholder","MemberId","aria-label","Username","aria-describedby","basic-addon1","id","input",1,"form-control",3,"ngModel","ngModelChange"],["type","submit",1,"btn","bg-yellow",2,"margin-left","20px",3,"click"],["class","mt-3",4,"ngIf"],["id","spanNotFount",4,"ngIf"],[1,"mt-3"],[1,"example-card"],["type","submit",1,"btn","bg-yellow","mt-3",3,"click"],["id","spanNotFount"]],template:function(n,d){1&n&&(e.TgZ(0,"div",0)(1,"p",1),e._uU(2,"Attendance"),e.qZA(),e.TgZ(3,"div")(4,"p",2),e._uU(5,"Search by ID Member"),e.qZA()(),e.TgZ(6,"div",3)(7,"div",4)(8,"span",5),e._uU(9,"@@"),e.qZA()(),e.TgZ(10,"input",6),e.NdJ("ngModelChange",function(H){return d.memberId=H}),e.qZA(),e.TgZ(11,"button",7),e.NdJ("click",function(){return d.searchMember()}),e._uU(12,"Search"),e.qZA()(),e.YNc(13,M,14,4,"div",8),e.YNc(14,N,2,0,"span",9),e.qZA()),2&n&&(e.xp6(10),e.Q6J("ngModel",d.memberId),e.xp6(3),e.Q6J("ngIf",!!d.member&&!d.member.hasError),e.xp6(1),e.Q6J("ngIf",!!d.member&&d.member.hasError))},dependencies:[s.O5,h.a8,h.dn,h.dk,h.$j,h.n5,u.Fj,u.wV,u.JJ,u.qQ,u.On]})}return r})()}];let Z=(()=>{class r{static#e=this.\u0275fac=function(n){return new(n||r)};static#t=this.\u0275mod=e.oAB({type:r});static#r=this.\u0275inj=e.cJS({imports:[c.Bz.forChild(U),c.Bz]})}return r})();var y=a(4354);let T=(()=>{class r{static#e=this.\u0275fac=function(n){return new(n||r)};static#t=this.\u0275mod=e.oAB({type:r});static#r=this.\u0275inj=e.cJS({imports:[s.ez,Z,y.v,u.u5]})}return r})()}}]);