"use strict";(self.webpackChunkPF_GymManagerFront=self.webpackChunkPF_GymManagerFront||[]).push([[585],{1585:(k,u,n)=>{n.r(u),n.d(u,{ProductsModule:()=>X});var C=n(6814),m=n(9316),p=n(1476),d=n(3566),r=n(9538),g=n(3927),T=n(3519),Z=n.n(T),t=n(5879),y=n(1132),x=n(9347),P=n(6912),f=n(2296),D=n(617),v=n(2032),h=n(4170);function N(o,a){1&o&&(t.TgZ(0,"th",23),t._uU(1," Id "),t.qZA())}function A(o,a){if(1&o&&(t.TgZ(0,"td",24),t._uU(1),t.qZA()),2&o){const e=a.$implicit;t.xp6(1),t.hij(" ",e.id," ")}}function Y(o,a){1&o&&(t.TgZ(0,"th",23),t._uU(1," Name "),t.qZA())}function U(o,a){if(1&o){const e=t.EpF();t.TgZ(0,"td",25),t.NdJ("click",function(){const s=t.CHM(e).$implicit,l=t.oxw();return t.KtG(l.openDialog(s))}),t._uU(1),t.qZA()}if(2&o){const e=a.$implicit;t.xp6(1),t.hij(" ",e.name," ")}}function S(o,a){1&o&&(t.TgZ(0,"th",23),t._uU(1," Type "),t.qZA())}function w(o,a){if(1&o&&(t.TgZ(0,"td",24),t._uU(1),t.qZA()),2&o){const e=a.$implicit;t.xp6(1),t.hij(" ",e.type," ")}}function _(o,a){1&o&&(t.TgZ(0,"th",23),t._uU(1," Category "),t.qZA())}function B(o,a){if(1&o&&(t.TgZ(0,"td",24),t._uU(1),t.qZA()),2&o){const e=a.$implicit;t.xp6(1),t.hij(" ",e.category," ")}}function Q(o,a){1&o&&(t.TgZ(0,"th",23),t._uU(1," Brand "),t.qZA())}function M(o,a){if(1&o&&(t.TgZ(0,"td",24),t._uU(1),t.qZA()),2&o){const e=a.$implicit;t.xp6(1),t.hij(" ",e.brand," ")}}function R(o,a){1&o&&(t.TgZ(0,"th",23),t._uU(1," Quantity "),t.qZA())}function j(o,a){if(1&o&&(t.TgZ(0,"td",24),t._uU(1),t.qZA()),2&o){const e=a.$implicit;t.xp6(1),t.hij(" ",e.quantity," ")}}function F(o,a){1&o&&(t.TgZ(0,"th",23),t._uU(1," Expiration Date "),t.qZA())}function b(o,a){if(1&o&&(t.TgZ(0,"td",24),t._uU(1),t.qZA()),2&o){const e=a.$implicit;t.xp6(1),t.hij(" ",e.expirationDate," ")}}function E(o,a){1&o&&t._UZ(0,"th",26)}function J(o,a){if(1&o){const e=t.EpF();t.TgZ(0,"td",25),t.NdJ("click",function(){const s=t.CHM(e).$implicit,l=t.oxw();return t.KtG(l.deleteRow(s.id))}),t.TgZ(1,"button",27)(2,"mat-icon"),t._uU(3,"delete_outline"),t.qZA()()()}}function G(o,a){1&o&&t._UZ(0,"tr",28)}function H(o,a){1&o&&t._UZ(0,"tr",29)}function $(o,a){if(1&o&&(t.TgZ(0,"tr",30)(1,"td",31),t._uU(2),t.qZA()()),2&o){t.oxw();const e=t.MAs(7);t.xp6(2),t.hij('No data matching the filter "',e.value,'"')}}const z=function(){return[5,10,25,100]},K=[{path:"",component:(()=>{class o{constructor(e,i,c){this.productsService=e,this.dialog=i,this.alert=c,this.displayedColumns=["id","name","type","category","brand","quantity","expirationDate","delete"],this.newUser=!1}ngOnInit(){this.loadData()}loadData(){this.usersSubscription=this.productsService.getProducts().subscribe(e=>{this.dataSource=new r.by(e),this.dataSource.paginator=this.paginator,this.dataSource.sort=this.sort,this.usersData=e})}applyFilter(e){this.dataSource.filter=e.target.value.trim().toLowerCase(),this.dataSource.paginator&&this.dataSource.paginator.firstPage()}openDialog(e){this.dialog.open(g.e,{data:{rowEntityEditor:e,type:"product",isStore:"true"},disableClose:!0}).afterClosed().subscribe(c=>{c.refreshData&&(this.usersSubscription.unsubscribe(),this.loadData())})}deleteRow(e){Z().fire({title:"Are you sure? You won't be able to revert this",icon:"warning",showCancelButton:!0,confirmButtonColor:"#d6dd00",cancelButtonColor:"#ff5050",confirmButtonText:"Yes"}).then(i=>{i.isConfirmed&&this.productsService.deleteProducts(e).subscribe(c=>{c&&(this.alert.successAlet("Deleted"),this.usersSubscription.unsubscribe(),this.loadData())})})}static#t=this.\u0275fac=function(i){return new(i||o)(t.Y36(y.s),t.Y36(x.uw),t.Y36(P.W))};static#o=this.\u0275cmp=t.Xpm({type:o,selectors:[["app-products"]],viewQuery:function(i,c){if(1&i&&(t.Gf(p.NW,5),t.Gf(d.YE,5)),2&i){let s;t.iGM(s=t.CRH())&&(c.paginator=s.first),t.iGM(s=t.CRH())&&(c.sort=s.first)}},decls:40,vars:5,consts:[[1,"container"],[1,"h1"],["matInput","","placeholder","Ex. Mia",3,"keyup"],["input",""],["mat-stroked-button","","color","primary",1,"mx-4",3,"click"],[1,"mat-elevation-z8"],["mat-table","","matSort","",3,"dataSource"],["matColumnDef","id"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","name"],["mat-cell","",3,"click",4,"matCellDef"],["matColumnDef","type"],["matColumnDef","category"],["matColumnDef","brand"],["matColumnDef","quantity"],["matColumnDef","expirationDate"],["matColumnDef","delete"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["class","mat-row",4,"matNoDataRow"],["aria-label","Select page of users",3,"pageSizeOptions"],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],["mat-cell","",3,"click"],["mat-header-cell",""],["mat-icon-button","","color","accent"],["mat-header-row",""],["mat-row",""],[1,"mat-row"],["colspan","4",1,"mat-cell"]],template:function(i,c){1&i&&(t.TgZ(0,"div",0)(1,"p",1),t._uU(2,"Products"),t.qZA(),t.TgZ(3,"mat-form-field")(4,"mat-label"),t._uU(5,"Search"),t.qZA(),t.TgZ(6,"input",2,3),t.NdJ("keyup",function(l){return c.applyFilter(l)}),t.qZA()(),t.TgZ(8,"button",4),t.NdJ("click",function(){return c.openDialog()}),t._uU(9,"New product"),t.qZA(),t.TgZ(10,"div",5)(11,"table",6),t.ynx(12,7),t.YNc(13,N,2,0,"th",8),t.YNc(14,A,2,1,"td",9),t.BQk(),t.ynx(15,10),t.YNc(16,Y,2,0,"th",8),t.YNc(17,U,2,1,"td",11),t.BQk(),t.ynx(18,12),t.YNc(19,S,2,0,"th",8),t.YNc(20,w,2,1,"td",9),t.BQk(),t.ynx(21,13),t.YNc(22,_,2,0,"th",8),t.YNc(23,B,2,1,"td",9),t.BQk(),t.ynx(24,14),t.YNc(25,Q,2,0,"th",8),t.YNc(26,M,2,1,"td",9),t.BQk(),t.ynx(27,15),t.YNc(28,R,2,0,"th",8),t.YNc(29,j,2,1,"td",9),t.BQk(),t.ynx(30,16),t.YNc(31,F,2,0,"th",8),t.YNc(32,b,2,1,"td",9),t.BQk(),t.ynx(33,17),t.YNc(34,E,1,0,"th",18),t.YNc(35,J,4,0,"td",11),t.BQk(),t.YNc(36,G,1,0,"tr",19),t.YNc(37,H,1,0,"tr",20),t.YNc(38,$,3,1,"tr",21),t.qZA(),t._UZ(39,"mat-paginator",22),t.qZA()()),2&i&&(t.xp6(11),t.Q6J("dataSource",c.dataSource),t.xp6(25),t.Q6J("matHeaderRowDef",c.displayedColumns),t.xp6(1),t.Q6J("matRowDefColumns",c.displayedColumns),t.xp6(2),t.Q6J("pageSizeOptions",t.DdM(4,z)))},dependencies:[f.lW,f.RK,D.Hw,v.Nt,h.KE,h.hX,p.NW,d.YE,d.nU,r.BZ,r.fO,r.as,r.w1,r.Dz,r.nj,r.ge,r.ev,r.XQ,r.Gk,r.Ee]})}return o})()},{path:"categories",loadChildren:()=>n.e(289).then(n.bind(n,3289)).then(o=>o.CategoriesModule)},{path:"types",loadChildren:()=>n.e(590).then(n.bind(n,5590)).then(o=>o.TypesModule)}];let O=(()=>{class o{static#t=this.\u0275fac=function(i){return new(i||o)};static#o=this.\u0275mod=t.oAB({type:o});static#e=this.\u0275inj=t.cJS({imports:[m.Bz.forChild(K),m.Bz]})}return o})();var W=n(4354),I=n(8718);let X=(()=>{class o{static#t=this.\u0275fac=function(i){return new(i||o)};static#o=this.\u0275mod=t.oAB({type:o});static#e=this.\u0275inj=t.cJS({imports:[C.ez,O,W.v,I.a]})}return o})()}}]);